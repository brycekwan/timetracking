<div class="mx-auto md:w-2/3 w-full">
  <h1 class="font-bold text-4xl">New invoice</h1>
  <%= turbo_frame_tag "invoice_preview_new" do %>
    <%= form_with(url: preview_new_invoice_url, method: :get, class: "contents", data: { turbo_frame: "invoice_preview" }) do |form| %>
      <% if @invoice.errors.any? %>
        <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3">
          <h2><%= pluralize(@invoice.errors.count, "error") %> prohibited this invoice from being saved:</h2>
          <ul>
            <% @invoice.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <div class="grid md:grid-cols-2 md:gap-6 mt-10">
        <div class="relative z-0 w-full mb-6 group">
          <%= form.label :vendor_id, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
          <%= form.select :vendor_id, options_for_select(@vendors.map { |vendor| [vendor.name, vendor.id] }), {}, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full", style: "min-width: 150px;" %>
        </div>
        <div class="relative z-0 w-full mb-6 group">
          <%= form.label :project_id, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
          <%= form.select :project_id, options_for_select(@projects.map { |project| [project.description, project.id] }), {}, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full", style: "min-width: 150px;" %>
        </div>
      </div>
      <div class="grid md:grid-cols-2 md:gap-6">
        <div class="relative z-0 w-full mb-6 group">
          <%= form.label :start_at, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
          <%= form.date_field :start_at, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
        </div>
        <div class="relative z-0 w-full mb-6 group">
          <%= form.label :end_at, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
          <%= form.date_field :end_at, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
        </div>
      </div>
      <div class="inline">
        <%= form.submit "Preview", class: "rounded-lg py-3 px-5 bg-blue-600 text-white inline-block font-medium cursor-pointer" %>
      </div>
    <% end %>
    <%= link_to 'Back to invoices', invoices_path, class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
  <% end %>
  <%= turbo_frame_tag "invoice_preview" do %>
  <% end %>
</div>
